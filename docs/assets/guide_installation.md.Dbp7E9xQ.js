import{_ as i,c as a,o as n,ah as t}from"./chunks/framework.BxJchdQ1.js";const E=JSON.parse('{"title":"安装指南","description":"","frontmatter":{},"headers":[],"relativePath":"guide/installation.md","filePath":"guide/installation.md","lastUpdated":1768311373000}'),l={name:"guide/installation.md"};function e(h,s,p,k,o,d){return n(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="安装指南" tabindex="-1">安装指南 <a class="header-anchor" href="#安装指南" aria-label="Permalink to &quot;安装指南&quot;">​</a></h1><p>Anon Framework 提供了可视化的安装向导，帮助您快速完成系统安装和配置。</p><h2 id="访问安装页面" tabindex="-1">访问安装页面 <a class="header-anchor" href="#访问安装页面" aria-label="Permalink to &quot;访问安装页面&quot;">​</a></h2><p>当系统未安装时，访问任何页面都会自动重定向到安装页面：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>http://your-domain.com/anon/install</span></span></code></pre></div><h2 id="安装流程" tabindex="-1">安装流程 <a class="header-anchor" href="#安装流程" aria-label="Permalink to &quot;安装流程&quot;">​</a></h2><p>安装过程分为多个步骤，根据选择的模式（API 或 CMS）会有所不同。</p><h3 id="步骤-1-选择安装模式" tabindex="-1">步骤 1：选择安装模式 <a class="header-anchor" href="#步骤-1-选择安装模式" aria-label="Permalink to &quot;步骤 1：选择安装模式&quot;">​</a></h3><p>首先需要选择系统运行模式：</p><ul><li><strong>API 模式</strong>：纯 API 接口模式，不加载主题系统，所有响应为 JSON 格式</li><li><strong>CMS 模式</strong>：内容管理系统模式，支持主题和页面模板，响应为 HTML 格式</li></ul><h3 id="步骤-2-配置数据库" tabindex="-1">步骤 2：配置数据库 <a class="header-anchor" href="#步骤-2-配置数据库" aria-label="Permalink to &quot;步骤 2：配置数据库&quot;">​</a></h3><p>填写数据库连接信息：</p><ul><li><strong>数据库主机</strong>：数据库服务器地址，默认为 <code>localhost</code></li><li><strong>数据库端口</strong>：数据库端口，默认为 <code>3306</code></li><li><strong>数据库用户名</strong>：数据库用户名，默认为 <code>root</code></li><li><strong>数据库密码</strong>：数据库密码（必填，不能为空）</li><li><strong>数据库名称</strong>：要使用的数据库名称</li><li><strong>数据表前缀</strong>：数据表前缀，默认为 <code>anon_</code>，只能包含字母、数字和下划线</li></ul><p>系统会自动测试数据库连接，确保配置正确。</p><h3 id="步骤-3a-站点配置-仅-cms-模式" tabindex="-1">步骤 3A：站点配置（仅 CMS 模式） <a class="header-anchor" href="#步骤-3a-站点配置-仅-cms-模式" aria-label="Permalink to &quot;步骤 3A：站点配置（仅 CMS 模式）&quot;">​</a></h3><p>如果选择 CMS 模式，需要配置站点信息：</p><ul><li><strong>管理员账号</strong>： <ul><li>用户名：管理员登录用户名</li><li>邮箱：管理员邮箱地址</li><li>密码：管理员密码（至少 8 个字符）</li></ul></li><li><strong>站点信息</strong>： <ul><li>网站标题：网站名称</li><li>网站介绍：网站描述（可选）</li></ul></li></ul><h3 id="步骤-3b-管理员账号-仅-api-模式" tabindex="-1">步骤 3B：管理员账号（仅 API 模式） <a class="header-anchor" href="#步骤-3b-管理员账号-仅-api-模式" aria-label="Permalink to &quot;步骤 3B：管理员账号（仅 API 模式）&quot;">​</a></h3><p>如果选择 API 模式，只需配置管理员账号：</p><ul><li><strong>用户名</strong>：管理员登录用户名</li><li><strong>邮箱</strong>：管理员邮箱地址</li><li><strong>密码</strong>：管理员密码（至少 8 个字符）</li></ul><h2 id="安装完成" tabindex="-1">安装完成 <a class="header-anchor" href="#安装完成" aria-label="Permalink to &quot;安装完成&quot;">​</a></h2><p>安装完成后，系统会：</p><ol><li>创建数据库表结构（根据选择的模式创建对应的表）</li><li>写入配置文件（<code>.env.php</code>）</li><li>创建管理员账号</li><li>初始化 CMS 选项（仅 CMS 模式）</li></ol><p>安装成功后会自动跳转到首页。</p><h2 id="安装-api-端点" tabindex="-1">安装 API 端点 <a class="header-anchor" href="#安装-api-端点" aria-label="Permalink to &quot;安装 API 端点&quot;">​</a></h2><p>安装向导使用以下 API 端点：</p><h3 id="获取-csrf-token" tabindex="-1">获取 CSRF Token <a class="header-anchor" href="#获取-csrf-token" aria-label="Permalink to &quot;获取 CSRF Token&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET /anon/install/api/token</span></span></code></pre></div><p>返回：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;操作成功&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;csrf_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;随机生成的 token&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="选择安装模式" tabindex="-1">选择安装模式 <a class="header-anchor" href="#选择安装模式" aria-label="Permalink to &quot;选择安装模式&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POST /anon/install/api/mode</span></span></code></pre></div><p>请求体：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;csrf_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;app_mode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;api&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 或 &quot;cms&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="获取当前模式" tabindex="-1">获取当前模式 <a class="header-anchor" href="#获取当前模式" aria-label="Permalink to &quot;获取当前模式&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET /anon/install/api/get-mode</span></span></code></pre></div><p>返回：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;操作成功&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;mode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;api&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 或 &quot;cms&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="配置数据库" tabindex="-1">配置数据库 <a class="header-anchor" href="#配置数据库" aria-label="Permalink to &quot;配置数据库&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POST /anon/install/api/database</span></span></code></pre></div><p>请求体：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;csrf_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;db_host&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;localhost&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;db_port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3306</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;db_user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;db_pass&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;db_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;database_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;db_prefix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;anon_&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="配置站点信息-cms-模式" tabindex="-1">配置站点信息（CMS 模式） <a class="header-anchor" href="#配置站点信息-cms-模式" aria-label="Permalink to &quot;配置站点信息（CMS 模式）&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POST /anon/install/api/site</span></span></code></pre></div><p>请求体：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;csrf_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;username&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;password123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;site_title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;我的网站&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;site_description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;网站描述&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="创建管理员账号-api-模式" tabindex="-1">创建管理员账号（API 模式） <a class="header-anchor" href="#创建管理员账号-api-模式" aria-label="Permalink to &quot;创建管理员账号（API 模式）&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POST /anon/install/api/install</span></span></code></pre></div><p>请求体：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;csrf_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;username&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;password123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="返回上一步" tabindex="-1">返回上一步 <a class="header-anchor" href="#返回上一步" aria-label="Permalink to &quot;返回上一步&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>POST /anon/install/api/back</span></span></code></pre></div><p>请求体：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;csrf_token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;token&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="配置文件说明" tabindex="-1">配置文件说明 <a class="header-anchor" href="#配置文件说明" aria-label="Permalink to &quot;配置文件说明&quot;">​</a></h2><h3 id="env-php" tabindex="-1">.env.php <a class="header-anchor" href="#env-php" aria-label="Permalink to &quot;.env.php&quot;">​</a></h3><p>安装完成后，系统会在 <code>server/.env.php</code> 中写入以下配置：</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ANON_APP_MODE&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;api&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 或 &#39;cms&#39;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ANON_DB_HOST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;localhost&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ANON_DB_PORT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3306</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ANON_DB_USER&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;root&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ANON_DB_PASSWORD&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;password&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ANON_DB_DATABASE&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;database_name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ANON_DB_PREFIX&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;anon_&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ANON_INSTALLED&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ANON_APP_KEY&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;base64:随机生成的密钥&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="options-表-cms-模式" tabindex="-1">options 表（CMS 模式） <a class="header-anchor" href="#options-表-cms-模式" aria-label="Permalink to &quot;options 表（CMS 模式）&quot;">​</a></h3><p>CMS 模式下，系统会在 <code>options</code> 表中存储以下配置：</p><ul><li><code>charset</code>: 字符集，默认为 <code>UTF-8</code></li><li><code>title</code>: 网站标题</li><li><code>description</code>: 网站描述</li><li><code>keywords</code>: 网站关键词</li><li><code>theme</code>: 默认主题名称，默认为 <code>Default</code></li><li><code>apiPrefix</code>: API 路由前缀，默认为 <code>/api</code></li><li><code>routes</code>: CMS 路由配置（JSON 格式）</li></ul><h2 id="数据库表结构" tabindex="-1">数据库表结构 <a class="header-anchor" href="#数据库表结构" aria-label="Permalink to &quot;数据库表结构&quot;">​</a></h2><h3 id="全局表-所有模式" tabindex="-1">全局表（所有模式） <a class="header-anchor" href="#全局表-所有模式" aria-label="Permalink to &quot;全局表（所有模式）&quot;">​</a></h3><ul><li><code>users</code>: 用户表</li><li><code>user_meta</code>: 用户元数据表</li><li><code>sessions</code>: 会话表</li><li><code>tokens</code>: Token 表</li><li><code>login_logs</code>: 登录日志表</li></ul><h3 id="cms-模式专用表" tabindex="-1">CMS 模式专用表 <a class="header-anchor" href="#cms-模式专用表" aria-label="Permalink to &quot;CMS 模式专用表&quot;">​</a></h3><ul><li><code>posts</code>: 内容表（文章和页面）</li><li><code>comments</code>: 评论表</li><li><code>attachments</code>: 附件表</li><li><code>options</code>: 选项表</li></ul><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="_1-数据库连接失败" tabindex="-1">1. 数据库连接失败 <a class="header-anchor" href="#_1-数据库连接失败" aria-label="Permalink to &quot;1. 数据库连接失败&quot;">​</a></h3><ul><li>检查数据库服务是否运行</li><li>确认数据库主机、端口、用户名、密码是否正确</li><li>确认数据库名称是否存在</li><li>检查数据库用户是否有足够的权限</li></ul><h3 id="_2-安装页面无法访问" tabindex="-1">2. 安装页面无法访问 <a class="header-anchor" href="#_2-安装页面无法访问" aria-label="Permalink to &quot;2. 安装页面无法访问&quot;">​</a></h3><ul><li>确认 PHP 版本 &gt;= 8.1</li><li>检查文件权限</li><li>查看错误日志</li></ul><h3 id="_3-安装后无法登录" tabindex="-1">3. 安装后无法登录 <a class="header-anchor" href="#_3-安装后无法登录" aria-label="Permalink to &quot;3. 安装后无法登录&quot;">​</a></h3><ul><li>确认管理员账号创建成功</li><li>检查密码是否正确</li><li>查看数据库中的 <code>users</code> 表</li></ul><h3 id="_4-重新安装" tabindex="-1">4. 重新安装 <a class="header-anchor" href="#_4-重新安装" aria-label="Permalink to &quot;4. 重新安装&quot;">​</a></h3><p>如果需要重新安装：</p><ol><li>删除 <code>.env.php</code> 中的 <code>ANON_INSTALLED</code> 定义或设置为 <code>false</code></li><li>清空数据库表（可选）</li><li>重新访问安装页面</li></ol><p><strong>注意</strong>：重新安装会覆盖现有配置和数据，请谨慎操作。</p><h2 id="安全建议" tabindex="-1">安全建议 <a class="header-anchor" href="#安全建议" aria-label="Permalink to &quot;安全建议&quot;">​</a></h2><ol><li><strong>安装完成后立即删除安装文件</strong>（如果不需要重新安装）</li><li><strong>使用强密码</strong>：管理员密码应至少包含 8 个字符，建议包含大小写字母、数字和特殊字符</li><li><strong>保护配置文件</strong>：确保 <code>.env.php</code> 文件权限正确，不要暴露在公开目录</li><li><strong>定期备份</strong>：安装完成后定期备份数据库和配置文件</li></ol><h2 id="下一步" tabindex="-1">下一步 <a class="header-anchor" href="#下一步" aria-label="Permalink to &quot;下一步&quot;">​</a></h2><p>安装完成后，您可以：</p><ul><li><a href="./quick-start.html">快速开始</a> - 了解基本使用方法</li><li><a href="./configuration.html">配置说明</a> - 了解详细配置选项</li><li><a href="./cms-mode.html">CMS 模式</a> - 了解 CMS 模式的使用（如果选择了 CMS 模式）</li><li><a href="./routing.html">路由系统</a> - 了解路由配置</li></ul>`,82)])])}const c=i(l,[["render",e]]);export{E as __pageData,c as default};
